<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Bowling Spin</title>
  <style>
    body { background:black; color:#9b59b6; text-align:center; font-family:Arial }
    img { width:200px }
    button {
      margin:10px; padding:12px 20px;
      border:2px solid #9b59b6;
      background:transparent; color:#9b59b6;
      cursor:pointer;
    }
  </style>
</head>

<body>
  <h1>Bowling Spin</h1>
  <img src="bowling.png">

  <br>
  <button id="connectBtn">Connect Wallet</button>
  <button id="spinBtn">SPIN</button>

  <p>XP: <span id="xp">0</span> | Spins: <span id="spins">0</span></p>

  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3modal@1.9.12/dist/index.js"></script>

  <script>
    alert("JS LOADED âœ…"); // ðŸ”¥ ÆN VACÄ°B TEST

    const contractAddress = "0xcBA969E50b65515Da6D504D6dc399a59878259eC";
    const abi = ["function spin() public"];

    let contract, xp=0, spins=0;

    document.getElementById("connectBtn").onclick = async () => {
      alert("Connect clicked");
      const web3Modal = new Web3Modal.default();
      const conn = await web3Modal.connect();
      const provider = new ethers.providers.Web3Provider(conn);
      const signer = provider.getSigner();
      contract = new ethers.Contract(contractAddress, abi, signer);
    };

    document.getElementById("spinBtn").onclick = async () => {
      alert("Spin clicked");
      if (!contract) return alert("Connect wallet first");
      const tx = await contract.spin();
      await tx.wait();
      xp += 5; spins++;
      xpSpan.innerText = xp;
      spinsSpan.innerText = spins;
    };
  </script>
</body>
</html>
